<form class="mt-8 space-y-6" #registerForm="ngForm" method="POST">
  <input type="hidden" name="remember" value="true" />
  <div class="lg:flex lg:justify-between lg:gap-3">
    <span class="lg:w-1/2">
      <label
        for="nombre"
        class="block text-xs font-semibold text-gray-600 uppercase"
        >Nombre</label
      >
      <input
        #nombre="ngModel"
        id="nombre"
        type="text"
        [(ngModel)]="user.nombre"
        name="nombre"
        required
        placeholder="Ingresa tu nombre"
        class="
          w-full
          text-base
          py-2
          border-b border-gray-300
          focus:outline-none
          focus:border-green-600
        "
        required
      />
      <div class="text-red-600" *ngIf="nombre.invalid && nombre.dirty">
        <div *ngIf="nombre.errors?.required">sadasd</div>
      </div>
    </span>
    <span class="lg:w-1/2">
      <label
        for="apellido"
        class="block text-xs font-semibold text-gray-600 uppercase"
        >Apellido</label
      >
      <input
        id="apellido"
        type="text"
        [(ngModel)]="user.apellido"
        name="apellido"
        placeholder="Ingresa tu apellido"
        autocomplete="given-name"
        class="
          w-full
          text-base
          py-2
          border-b border-gray-300
          focus:outline-none
          focus:border-green-600
        "
        required
      />
    </span>
  </div>
  <div class="lg:flex lg:justify-between lg:gap-3">
    <span class="lg:w-2/3">
      <label
        for="correo"
        class="block text-xs font-semibold text-gray-600 uppercase"
        >Correo</label
      >
      <input
        id="correo"
        type="email"
        name="correo"
        [(ngModel)]="user.correo"
        placeholder="Ingresa tu correo"
        class="
          w-full
          text-base
          py-2
          border-b border-gray-300
          focus:outline-none
          focus:border-green-600
        "
        required
      />
    </span>
    <span class="lg:w-1/3">
      <label
        for="password"
        class="block text-xs font-semibold text-gray-600 uppercase"
        >Contrasena</label
      >
      <input
        id="password"
        type="password"
        name="password"
        [(ngModel)]="user.password"
        placeholder="Ingresa tu contrasena"
        autocomplete="given-name"
        class="
          w-full
          text-base
          py-2
          border-b border-gray-300
          focus:outline-none
          focus:border-green-600
        "
        required
      />
    </span>
  </div>
  <div class="lg:flex lg:justify-between lg:gap-3">
    <span class="lg:w-1/4">
      <label
        for="comuna"
        class="block text-xs font-semibold text-gray-600 uppercase"
        >Comuna{{ user.comuna }}</label
      >
      <div class="relative inline-block w-full text-gray-700">
        <select
          required
          [(ngModel)]="user.comuna"
          name="comuna"
          class="
            w-full
            h-10
            pl-3
            pr-6
            text-base
            placeholder-gray-600
            border
            rounded-lg
            appearance-none
            focus:shadow-outline
          "
          placeholder="Regular input"
        >
          <option *ngFor="let comuna of Comunas" [ngValue]="comuna.nombre">
            {{ comuna.nombre }}
          </option>
        </select>

        <div
          class="
            absolute
            inset-y-0
            right-0
            flex
            items-center
            px-2
            pointer-events-none
          "
        >
          <svg class="w-4 h-4 fill-current" viewBox="0 0 20 20">
            <path
              d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"
              clip-rule="evenodd"
              fill-rule="evenodd"
            ></path>
          </svg>
        </div>
      </div>
    </span>
    <span class="lg:w-2/4">
      <label
        for="direccion"
        class="block text-xs font-semibold text-gray-600 uppercase"
        >Direccion</label
      >
      <input
        required
        id="direccion"
        [(ngModel)]="user.direccion"
        type="text"
        name="direccion"
        placeholder="Ej: Calle 231"
        class="
          w-full
          text-base
          py-2
          border-b border-gray-300
          focus:outline-none
          focus:border-green-600
        "
      />
    </span>
    <span class="lg:w-1/4">
      <label
        for="departamento"
        class="block text-xs font-semibold text-gray-600 uppercase"
        >Departamento (Opcional)</label
      >
      <input
        id="departamento"
        [(ngModel)]="user.departamento"
        type="number"
        name="departamento"
        placeholder="Ej: 1125"
        class="
          w-full
          text-base
          py-2
          border-b border-gray-300
          focus:outline-none
          focus:border-green-600
        "
      />
    </span>
  </div>

  <div>
    <button
      (click)="onSubmit()"
      [disabled]="!registerForm.form.valid"
      type="submit"
      [ngClass]="
        !registerForm.form.valid
          ? 'opacity-70 w-full flex justify-center bg-gray-500 text-gray-100 p-4 rounded-full tracking-wide font-semibold focus:outline-none focus:shadow-outline hover:bg-gray-700 shadow-lg cursor-pointer transition ease-in duration-300'
          : 'w-full flex justify-center bg-primary text-gray-100 p-4 rounded-full tracking-wide font-semibold focus:outline-none focus:shadow-outline hover:bg-indigo-900 shadow-lg cursor-pointer transition ease-in duration-300'
      "
    >
      Iniciar Sesion
    </button>
  </div>
  <p
    class="
      flex flex-col
      items-center
      justify-center
      mt-10
      text-center text-md text-gray-500
    "
  >
    <span>Ya tienes cuenta?</span>
    <a
      [routerLink]="['/login']"
      class="
        text-green-500
        hover:text-indigo-500no-underline
        hover:underline
        cursor-pointer
        transition
        ease-in
        duration-300
      "
      >Registrar</a
    >
  </p>
</form>
